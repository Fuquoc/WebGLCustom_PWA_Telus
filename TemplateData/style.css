body { padding: 0; margin: 0 }
#unity-container { position: fixed; width: 100%; height: 100%; }
#unity-canvas { width: 100%; height: 100%; background: {{{ BACKGROUND_COLOR }}} }

/* Explicitly position the canvas at a lower stacking level so the overlay
	can sit on top of it but beneath the loading bar. Keeping the background
	placeholder in its own block avoids parser issues in some build tools. */
#unity-canvas { position: relative; z-index: 0; }

#unity-progress-bar-empty { margin-left: auto; margin-right: auto; width: 141px; height: 18px; margin-top: 10px; background: url('progress-bar-empty-{{{ SPLASH_SCREEN_STYLE.toLowerCase() }}}.png') no-repeat center }
#unity-progress-bar-full { width: 0%; height: 18px; margin-top: 10px; background: url('progress-bar-full-{{{ SPLASH_SCREEN_STYLE.toLowerCase() }}}.png') no-repeat center }
#unity-warning { position: absolute; left: 50%; top: 5%; transform: translate(-50%); background: white; padding: 10px; display: none }

/* Overlay used to appear on top of the canvas (full-screen). */
#overlay {
	position: absolute; /* must be positioned for z-index to take effect */
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	/* background-color: black; */
	z-index: 10; /* sits above the canvas */
	pointer-events: auto; /* set to 'none' if you want clicks to pass through to canvas */
}

    .video-wrapper {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: 100vh;
      transform: translate(-50%, -50%);
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: black;
    }

    video {
      width: 100%;
      height: 100%;
      object-fit: cover; /* hoặc contain nếu muốn giữ tỉ lệ */
      background-color: black;
      pointer-events: none; /* chặn click chuột */
    }

#unity-loading-bar {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    text-align: center;

    z-index: 20;
    pointer-events: none; /* không ảnh hưởng tới webgl input */
}

#unity-logo { 
    width: 209px;
    height: 184px;
    background: url('bdm3d_logo.png') no-repeat center;
    background-size: contain;
    margin: auto;
    margin-bottom: 10px;
}

@font-face {
    font-family: 'NexaBold';
    src: url('Font/Nexa-Trial-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
}

#customLoading {
    font-family: 'NexaBold', sans-serif;
    font-size: 20px;
    color: white;
    text-align: center;
    margin-bottom: 10px;
}

#unity-progress-bar-empty-remake {
  width: 300px;
  height: 24px;
  background: white;
  overflow: hidden;
  padding: 3px;
  /* backdrop-filter: blur(4px);
  box-shadow: 0 0 10px rgba(0,0,0,0.16); */
}

#unity-progress-bar-full-remake {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #8BC53F, #2A953D);
  background-size: 200% 200%;
}

/* Animation blend màu */
@keyframes loadingGradient {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

.map-overlay {
  background: transparent;
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 5;
  border-radius: 8px;
  overflow: hidden;
  pointer-events: auto;
}

.map-close-btn {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 40px;
  background: rgba(0, 0, 0, 0.6);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  transition: all 0.3s ease;
  color: #ffffff;
  font-size: 24px;
  font-weight: bold;
}

.map-close-btn:hover {
  background: rgba(0, 0, 0, 0.85);
  transform: translateX(-50%) scale(1.1);
}

.map-close-btn:active {
  transform: translateX(-50%) scale(0.95);
}

/* X icon using ::before and ::after */
.map-close-btn::before,
.map-close-btn::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 2px;
  background: #ffffff;
}

.map-close-btn::before {
  transform: rotate(45deg);
}

.map-close-btn::after {
  transform: rotate(-45deg);
}

/* ------------------------------------------------ */
  .side-info-panel {
    position: absolute;
    top: 0;
    left: 0;
    width: 360px;
    height: 100%;
    pointer-events: auto;
    z-index: 20;
  }

  .side-info-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 360px;
    height: 100%;
    background: linear-gradient(to right, rgba(0, 0, 0, 0.78), rgba(0, 0, 0, 0.25), transparent);
    z-index: -1;
  }

  .side-info-content {
    padding: 40px 30px;
    color: white;
    font-family: 'Segoe UI', Arial, sans-serif;
  }

  .left-legend {
    position: absolute;
    left: 18px;
    top: 50%;
    transform: translateY(-50%);
    width: 280px;
    max-width: calc(100vw - 40px);
    color: #ffffff;
    font-family: "Georgia", "Times New Roman", serif;
    -webkit-font-smoothing:antialiased;
    z-index: 1000;
    pointer-events: auto;
  }

  .legend-header {
    padding: 8px 14px 12px 14px;
  }

  .legend-title {
    margin: 0;
    font-size: 28px;
    font-weight: 600;
    letter-spacing: 0.2px;
    color: #ffffff;
  }

  .title-underline {
    height: 3px;
    width: 120px;
    background: rgba(255, 215, 0, 0.86); /* yellow */
    margin: 8px 0 10px 0;
    border-radius: 2px;
  }

  .legend-address {
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 12px;
    color: rgba(255,255,255,0.95);
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }

  .legend-list {
    list-style: none;
    padding: 6px 8px 0 8px;
    margin: 8px 0 0 0;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 6px;
    cursor: default;
  }

  .legend-icon {
    flex: 0 0 36px;
    height: 36px;
    border-radius: 50%;
    display: inline-block;
    box-shadow: 0 1px 4px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* small white inner icon sign (dot) */
  .legend-icon::after{
    content: "";
    width: 100%;
    height: 100%;
    border-radius: 3px;
    display: block;

    background-image: var(--img);
    /* background-size: 70% 70%; */
    background-position: center;
    background-repeat: no-repeat;
  }

  .legend-text{
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 14px;
    color: #ffffff;
  }

  /* colors matching your description */
  .icon-pink { background: #A83D84; }
  .icon-green { background: #93A83D; }        /* recreation */
  .icon-teal { background: #447C5B; }         /* transit */
  .icon-purple { background: #933FC7; }       /* education */
  .icon-orange { background: #C7883F; }       /* shopping */
  .icon-blue { background: #3F65C7; }         /* health */
  .icon-darkteal { background: #0E8780; }     /* major employers */
  .icon-yelloworange { background: #87480E; } /* major arterials */

  .legend-separator{
    height: 2px;
    background: rgba(255, 215, 0, 0.9);
    margin: 8px 8px;
    border-radius: 2px;
  }

  .legend-btn{
    margin: 12px 8px 0 8px;
    border: none;
    background: rgba(255,255,255,0.12);
    color: #ffffff;
    padding: 10px 12px;
    border-radius: 24px;
    display: inline-flex;
    gap: 10px;
    align-items: center;
    font-family: "Helvetica Neue", Arial, sans-serif;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.35);
  }

  .legend-btn:hover { background: rgba(255,255,255,0.18); }

  .legend-toggle{
    all: unset;
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    cursor: pointer;
  }

  .legend-toggle.inactive .legend-icon {
    filter: grayscale(100%) brightness(0.85) saturate(60%);
    opacity: 0.9;
  }
  .legend-toggle.inactive .legend-text {
    color: rgba(255,255,255,0.55);
  }

  .btn-circle {
    width: 28px;
    height: 28px;
    display: inline-block;
    border-radius: 50%;
    background: rgba(255,255,255,0.22);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
  }

  /* Responsive */
  @media (max-width: 520px) {
    .left-legend { left: 10px; top: 12px; width: 220px; }
    .legend-title { font-size: 22px; }
    .legend-icon { flex-basis: 30px; height: 30px; }
  }